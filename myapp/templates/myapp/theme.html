{% extends "base.html" %}
{% load static %}

{% block title %}Home - ThemeMarket{% endblock %}

{% block content %}

<!-- Hero Section -->
<section class="bg-gray-50 py-20">
  <div class="max-w-7xl mx-auto flex flex-col md:flex-row items-center justify-between px-6 space-y-12 md:space-y-0">

    <!-- Left Text Section (Centered) -->
    <div class="md:w-1/2 flex flex-col items-center justify-center text-center md:text-left">
      <h2 class="text-4xl md:text-5xl font-extrabold mb-6 text-transparent bg-clip-text bg-gradient-to-r from-[#3B3EEA] to-[#7A1CAC]">
        WordPress Themes
      </h2>
      <p class="text-gray-700 text-lg mb-6 text-center leading-relaxed max-w-md">
        Discover premium WordPress themes crafted by top designers and developers.<br>
        Each theme is carefully reviewed for quality, performance, and design excellence.
      </p>

      <!-- Search Bar (Centered) -->
      <div class="flex justify-center mt-8 bg-white shadow-md border border-black rounded-lg p-3 overflow-hidden w-full max-w-md">
        <div class="flex items-center text-gray-400">
          <i class="fa-solid fa-magnifying-glass text-lg"></i>
        </div>
        <input type="text" placeholder="Search for WordPress, E commerce..." 
               class="flex-grow px-2 py-3 text-gray-700 focus:outline-none">
        <button class="bg-[#76C01D] text-white font-semibold px-6 py-3 rounded-lg hover:bg-green-600 transition duration-300">
          Search
        </button>
      </div>
    </div>

    <!-- Right Image Section -->
    <div class="md:w-1/2 flex justify-center">
      <img src="{% static '/images/image1.jpg' %}"
           alt="Theme Preview"
           class="rounded-2xl shadow-lg w-[90%] md:w-[80%]">
    </div>

  </div>
</section>

<!-- Sort + View Options -->
<div class="max-w-7xl mx-auto px-6 mb-10">
  
  <!-- Heading text -->
  <p class="text-center text-gray-800 font-semibold text-xl md:text-2xl leading-[2.2rem] md:leading-[2.6rem] mb-6">
    website templates compatible with <br/>
    WooCommerce sorted by best sellers.
  </p>

  <!-- Controls aligned right -->
  <div class="flex justify-center md:justify-end items-center space-x-4">
    
<!-- Custom Sort Dropdown -->
<div class="relative w-96">
  
  <!-- Trigger -->
  <button id="sortBtn"
  class="border border-gray-500 px-6 py-3 text-lg rounded-lg bg-white w-full flex justify-between items-center 
         transition-all duration-200 ease-out">
      <span id="selectedSort">Best Sellers</span>
      <i id="sortChevron" class="fa-solid fa-chevron-down transition-transform duration-200"></i>
</button>

  <!-- Dropdown Menu -->

<div id="sortMenu"
  class="absolute left-0 mt-2 w-full bg-white border border-gray-300 rounded-lg shadow-lg 
         opacity-0 scale-y-0 
         transform origin-top-right transition-all duration-200 ease-out 
         pointer-events-none z-50">
        
    <ul class="py-2 text-gray-800 text-base">
      
      <li class="sort-option px-4 py-2 hover:bg-gray-100 cursor-pointer">Most Popular</li>
      <li class="sort-option px-4 py-2 hover:bg-gray-100 cursor-pointer">Newest First</li>
      <li class="sort-option px-4 py-2 hover:bg-gray-100 cursor-pointer">Price, Low to high</li>
      <li class="sort-option px-4 py-2 hover:bg-gray-100 cursor-pointer">Price, high to low</li>
    </ul>
</div>


</div>


    <!-- Toggle Buttons -->
    <!-- View Toggle Buttons -->
<div class="flex items-center bg-gray-100 rounded-full shadow-md overflow-hidden">
  
  <!-- GRID view button (default active) -->
  <button id="gridViewBtn"
    class="view-btn active py-4 px-10 rounded-r-full bg-[#76C01D] text-[#0056B3] shadow-md transition">
    <i class="fa-regular fa-calendar text-lg"></i>
  </button>

  <!-- LIST view button -->
  <button id="listViewBtn"
    class="view-btn py-4 px-10 text-gray-600 hover:text-[#0056B3] rounded-full transition">
    <i class="fa-solid fa-list text-lg"></i>
  </button>

</div>

  </div>
</div>
<!-- Product Filter + Cards Section -->
<section class="bg-white py-10">
  <div class="max-w-7xl mx-auto px-6 grid grid-cols-1 md:grid-cols-5 gap-8">

    <!-- ================== FILTER SIDEBAR ================== -->
    <aside class="md:col-span-2 space-y-8 top-24 w-80 h-fit">
      <h3 class="text-2xl font-bold text-gray-800 mb-4">Filters</h3>

      {% for filter_name, filter_options in filter_items.items %}
      <div class="group relative">

        <!-- Filter Button -->
        <div class="bg-[#431A97] text-white font-medium px-4 py-3 rounded-md shadow-md 
                    cursor-pointer flex justify-between items-center">
          {{ filter_name }}
          <i class="fa-solid fa-chevron-down"></i>
        </div>

        <!-- Dropdown -->
        <div class="absolute left-0 w-full bg-white shadow-lg rounded-md border 
                    opacity-0 scale-y-0 group-hover:opacity-100 group-hover:scale-y-100
                    origin-top transition-all duration-200 z-50">

          <ul class="p-4 space-y-4">
            {% for option in filter_options %}
            <li class="flex items-center space-x-3 text-gray-700">
              <input type="radio" name="{{ filter_name }}" class="w-4 h-4 text-[#431A97]">
              <span class="text-lg">{{ option }}</span>
            </li>
            {% endfor %}
          </ul>

        </div>

      </div>
      {% endfor %}
    </aside>


    <!-- ================== PRODUCT LIST SECTION ================== -->
    <div class="md:col-span-3">

      <!-- Scrollable wrapper (4 rows visible) -->
      <div class="product-scroll-wrapper h-[140vh] overflow-y-scroll no-scrollbar">

        <!-- PRODUCT CARDS -->
        

          {% for theme in themes %}
            {% include "myapp/components/product_card.html" %}
          {% endfor %}

        
      </div>
    </div>

  </div>
</section>

<!-- Newsletter & Testimonial Section -->

{% include "myapp/components/newsletter.html" %}

{% endblock %}
